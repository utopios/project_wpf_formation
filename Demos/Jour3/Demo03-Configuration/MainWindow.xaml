<Window x:Class="ConfigDemo.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Démo - Configuration Moderne (.NET 9)"
        Height="650" Width="800"
        Background="#F5F5F5">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="30">

            <!-- En-tête -->
            <TextBlock Text="Configuration Moderne .NET"
                      FontSize="28" FontWeight="Bold"
                      Foreground="#2C3E50" Margin="0,0,0,5"/>
            <TextBlock Text="Migration de App.config vers appsettings.json"
                      Foreground="Gray" Margin="0,0,0,25"/>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Colonne gauche -->
                <StackPanel Margin="0,0,10,0">

                    <!-- AppSettings -->
                    <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                        </Border.Effect>

                        <StackPanel>
                            <TextBlock Text="AppSettings"
                                      FontSize="18" FontWeight="SemiBold"
                                      Foreground="#2C3E50" Margin="0,0,0,15"/>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="Nom:" FontWeight="SemiBold" Margin="0,0,15,8"/>
                                <TextBlock Grid.Column="1" Text="{Binding ApplicationName}"
                                          Foreground="#3498DB" Margin="0,0,0,8"/>

                                <TextBlock Grid.Row="1" Text="Version:" FontWeight="SemiBold" Margin="0,0,15,8"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Version}"
                                          Foreground="#3498DB" Margin="0,0,0,8"/>

                                <TextBlock Grid.Row="2" Text="Max Items:" FontWeight="SemiBold" Margin="0,0,15,8"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding MaxItems}"
                                          Foreground="#3498DB" Margin="0,0,0,8"/>

                                <TextBlock Grid.Row="3" Text="Logging:" FontWeight="SemiBold" Margin="0,0,15,0"/>
                                <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding EnableLogging}"
                                          Foreground="#3498DB"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- API Settings -->
                    <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                        </Border.Effect>

                        <StackPanel>
                            <TextBlock Text="ApiSettings"
                                      FontSize="18" FontWeight="SemiBold"
                                      Foreground="#2C3E50" Margin="0,0,0,15"/>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="Base URL:" FontWeight="SemiBold" Margin="0,0,15,8"/>
                                <TextBlock Grid.Column="1" Text="{Binding ApiBaseUrl}"
                                          Foreground="#27AE60" TextWrapping="Wrap" Margin="0,0,0,8"/>

                                <TextBlock Grid.Row="1" Text="Timeout:" FontWeight="SemiBold" Margin="0,0,15,8"/>
                                <TextBlock Grid.Row="1" Grid.Column="1"
                                          Foreground="#27AE60" Margin="0,0,0,8">
                                    <Run Text="{Binding ApiTimeout, Mode=OneWay}"/>
                                    <Run Text=" secondes"/>
                                </TextBlock>

                                <TextBlock Grid.Row="2" Text="Retry Count:" FontWeight="SemiBold" Margin="0,0,15,0"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding ApiRetryCount}"
                                          Foreground="#27AE60"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Connection String -->
                    <Border Background="White" CornerRadius="8" Padding="20">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                        </Border.Effect>

                        <StackPanel>
                            <TextBlock Text="ConnectionStrings"
                                      FontSize="18" FontWeight="SemiBold"
                                      Foreground="#2C3E50" Margin="0,0,0,10"/>

                            <TextBlock Text="{Binding ConnectionString}"
                                      Foreground="#E74C3C"
                                      TextWrapping="Wrap"
                                      FontFamily="Consolas"
                                      FontSize="11"/>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Colonne droite -->
                <StackPanel Grid.Column="1" Margin="10,0,0,0">

                    <!-- Feature Flags -->
                    <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                        </Border.Effect>

                        <StackPanel>
                            <TextBlock Text="FeatureFlags"
                                      FontSize="18" FontWeight="SemiBold"
                                      Foreground="#2C3E50" Margin="0,0,0,15"/>

                            <CheckBox Content="Mode Sombre"
                                     IsChecked="{Binding EnableDarkMode, Mode=OneWay}"
                                     IsEnabled="False" Margin="0,0,0,8"/>
                            <CheckBox Content="Export"
                                     IsChecked="{Binding EnableExport, Mode=OneWay}"
                                     IsEnabled="False" Margin="0,0,0,8"/>
                            <CheckBox Content="Notifications"
                                     IsChecked="{Binding EnableNotifications, Mode=OneWay}"
                                     IsEnabled="False"/>
                        </StackPanel>
                    </Border>

                    <!-- Environnement -->
                    <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                        </Border.Effect>

                        <StackPanel>
                            <TextBlock Text="Environnement"
                                      FontSize="18" FontWeight="SemiBold"
                                      Foreground="#2C3E50" Margin="0,0,0,15"/>

                            <Border Padding="10" CornerRadius="4">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Background" Value="#E8F5E9"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsDevelopment}" Value="True">
                                                <Setter Property="Background" Value="#FFF3E0"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                                <TextBlock Text="{Binding Environment}"
                                          FontWeight="SemiBold" FontSize="16">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Foreground" Value="#2E7D32"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDevelopment}" Value="True">
                                                    <Setter Property="Foreground" Value="#E65100"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                            </Border>

                            <TextBlock Text="Variable: DOTNET_ENVIRONMENT"
                                      FontSize="11" Foreground="Gray" Margin="0,8,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Sources de configuration -->
                    <Border Background="White" CornerRadius="8" Padding="20">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                        </Border.Effect>

                        <StackPanel>
                            <TextBlock Text="Sources de Configuration"
                                      FontSize="16" FontWeight="SemiBold"
                                      Foreground="#2C3E50" Margin="0,0,0,10"/>

                            <TextBlock Text="1. appsettings.json (base)"
                                      FontSize="12" Margin="0,0,0,4"/>
                            <TextBlock Text="2. appsettings.{env}.json (override)"
                                      FontSize="12" Margin="0,0,0,4"/>
                            <TextBlock Text="3. Variables d'environnement"
                                      FontSize="12" Margin="0,0,0,10"/>

                            <Border Background="#E3F2FD" CornerRadius="4" Padding="10">
                                <TextBlock TextWrapping="Wrap" FontSize="11" Foreground="#1565C0">
                                    Chaque source surcharge la précédente.
                                    Les variables d'environnement ont la priorité.
                                </TextBlock>
                            </Border>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Grid>
        </StackPanel>
    </ScrollViewer>
</Window>
